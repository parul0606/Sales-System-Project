CREATE TABLE `SalesSystem`.`TBL_STOCK` ( `id` INT NOT NULL AUTO_INCREMENT , `productID` VARCHAR(6) NOT NULL , `productName` VARCHAR(20) NOT NULL , `quantityOnHand` INT NOT NULL , `productUnitPrice` DOUBLE NOT NULL , `reorderLevel` INT NOT NULL , PRIMARY KEY (`id`, `productID`), UNIQUE `productName` (`productName`)) ENGINE = InnoDB;
CREATE TABLE `SalesSystem`.`TBL_SALES` ( `id` INT NOT NULL AUTO_INCREMENT , `salesID` VARCHAR(6) NOT NULL , `salesDate` DATE NOT NULL , `productID` VARCHAR(6) NOT NULL , `quantitySold` INT NOT NULL , `salesPricePerUnit` DOUBLE NOT NULL , PRIMARY KEY (`id`, `salesID`)) ENGINE = InnoDB;
CREATE VIEW V_SALES_REPORT AS SELECT `salesID`, `salesDate`, tst.`productID`, `productName`, `quantitySold`, `productUnitPrice`, `salesPricePerUnit`, (salesPricePerUnit - productUnitPrice) as `profitAmount`  FROM `TBL_SALES` tsa, `TBL_STOCK` tst WHERE tst.`productID` = tsa.`productID` ORDER BY profitAmount DESC, salesID ASC
ALTER TABLE `TBL_SALES` ADD UNIQUE(`salesID`);
ALTER TABLE `TBL_SALES` CHANGE `salesID` `salesID` VARCHAR(6) CHARACTER SET latin1 COLLATE latin1_swedish_ci NULL;
